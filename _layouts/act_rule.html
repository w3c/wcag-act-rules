---
layout: standalone_resource
---

<aside class="box"> 
  <header class="box-h box-h-icon"> 
    Rule Mapping 
  </header>
  <div class="box-i"> 
   <p>This is {% if page.rule_meta.rule_type == "atomic" %}an {% else %}a {% endif %}
    <strong>{{ page.rule_meta.rule_type | capitalize }} rule</strong> 
    {% if page.rule_meta.scs_tested %}
    to test 
    {% for sc in page.rule_meta.scs_tested %}
    <strong>{{ sc.num }}: {{ sc.handle }} (Level {{ sc.level }})</strong>{% if forloop.last == false %}, {% endif %}
    {% endfor %}
    {% endif %}
  </p> 
  </div>
 </aside>

<h2>Description</h2>
{{ page.rule_meta.description | markdownify }}

{{ content }}

{% assign ruleId = page.rule_meta.id -%}
{%- if ruleId %}
<h2>Implementations</h2>
{%- assign siteData = site.data.wcag-act-rules %}
{%- assign implementations = siteData.act-implementations | sort: "name" %}
{%- capture myReports %}
{%- for implementation in implementations %}
  {%- assign report = siteData.implementations[implementation.uniqueKey] %}
  {%- assign ruleMapping = report.actRuleMapping | where: "ruleId", ruleId | first %}
  {%- if ruleMapping.consistency %}
    {{- implementation.uniqueKey }},
  {%- endif %}
{%- endfor %}
{%- endcapture %}

{% assign reportCount = myReports | split: "," | compact | inspect %}
<p>{{ myReports}} {{ reportCount }} total</p>

{% if reportCount == 0 %}
  <p>There are currently no known implementations for this rule. If you would like to 
    contribute an implementation, please read the 
    [ACT Implementations page](https://act-rules.github.io/pages/implementations/overview/) 
    for details.</p>

{% else %}
  <p>This section is not part of the official rule. It is populated dynamically and 
    not accounted for in the change history or the last modified date.</p>

  <table class="act-implementations">
    <thead> 
      <tr>
        <th>Implementation</th>
        <th>Type</th>
        <th>Consistency</th>
        <th>Report</th>
      </tr>
    </thead>
    <tbody>
      {%- assign implementations = siteData.act-implementations | sort: "name" %}
      {%- for implementation in implementations %}
        {%- assign report = siteData.implementations[implementation.uniqueKey] %}
        {%- assign ruleMapping = report.actRuleMapping | where: "ruleId", ruleId | first %}
        {% if ruleMapping.consistency %}
          <tr>
            <td>{{ implementation.name }}
              {%- if report.version %} {{ report.version }}{% else %} {{ implementation.version }}{% endif -%}
            </td>
            <td>{{ implementation.type }}</td>
            <td>{% if ruleMapping.consistency == 'complete' %}
              Consistent {% else %} Partial
            {% endif %}</td>
            <td><a href="{{
              '/standards-guidelines/act/implementations/' 
                | append: implementation.uniqueKey 
                | append: "#breakdown-"
                | append: ruleId
                | relative_url
            }}"><img alt="{{ implementation.name }} Report" src="{{
              '/content-assets/wcag-act-rules/bar-chart-fill.svg' | relative_url
            }}" /></a></td>
          </tr>
        {% endif %}
      {%- endfor %}
    </tbody>
  </table>
{% endif %}
{% endif %}