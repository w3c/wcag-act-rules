---
layout: standalone_resource
---

<aside class="box"> 
  <header class="box-h box-h-icon"> 
    Rule Mapping 
  </header>
  <div class="box-i"> 
   <p>This is {% if page.rule_meta.rule_type == "atomic" %}an {% else %}a {% endif %}
    <strong>{{ page.rule_meta.rule_type | capitalize }} rule</strong> 
    {% if page.rule_meta.scs_tested %}
    to test 
    {% for sc in page.rule_meta.scs_tested %}
    <strong>{{ sc.num }}: {{ sc.handle }} (Level {{ sc.level }})</strong>{% if forloop.last == false %}, {% endif %}
    {% endfor %}
    {% endif %}
  </p> 
  </div>
 </aside>

<h2>Description</h2>
{{ page.rule_meta.description | markdownify }}

{{ content }}

{%- assign ruleId = page.rule_meta.id -%}
{%- assign siteData = site.data.wcag-act-rules %}
{%- assign ruleVersions = siteData.rule-versions[ruleId] %}

{%- if ruleId %}
<h2>Rule Versions</h2>
{% if ruleVersions %}
<ol>
  {%- for ruleVersion in ruleVersions %}
  <li>
    {%- capture versionTitle %}
      {%- if ruleVersion.file contains 'proposed' %} 
        Proposed version, {{ ruleVersion.w3cDate }}
      {%- elsif ruleVersion.file contains 'index' %}
        Latest version, {{ ruleVersion.w3cDate }}
      {%- else %}
        {{ ruleVersion.w3cDate }} version
      {%- endif %}
    {%- endcapture %}
    {%- if page.github.path contains ruleVersion.file %}
      {{ versionTitle }}
    {%- else %}
      <a href="{{
        '/standards-guidelines/act/rules/' | append: ruleVersion.url | relative_url
      }}">{{ versionTitle }}</a>
    {%- endif %}
    {%- unless forloop.last %}
      {%- assign baseUrl = 'https://www.w3.org/WAI/standards-guidelines/act/rules/' %}
      {%- assign doc1 = baseUrl | append: ruleVersions[forloop.index].url | url_encode %}
      {%- assign doc2 = baseUrl | append: ruleVersions[forloop.index0].url | url_encode %}
      (<a target="_blank" href="{{ 'https://services.w3.org/htmldiff?doc1='
        | append: doc1 | append: '&doc2=' | append: doc2
      }}">compare</a>)
    {%- endunless %}
    {%- if ruleVersion.changes %}<ul>
      {%- for change in ruleVersion.changes %}
        <li>{{ change }}</li>
      {%- endfor %}
    </ul>{% endif %}
  </li>
  {%- endfor %}
</ol>
{%- else %}
<p>This is the first version of this ACT rule.</p>
{%- endif %}
{%- endif %}
