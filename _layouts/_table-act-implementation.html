{% assign ruleMapping = include.ruleMapping -%}

<table class="act-example-outcomes">
  <caption>Test Results</caption>
  <thead>
    <tr>
      <th></th>
      {%- for procedureName in ruleMapping.procedureNames %}
      <th>{{ procedureName }}</th>
      {%- endfor %}
    </tr>
  </thead>

  <tbody>
    {%- for result in ruleMapping.testCaseResults %}
    <tr>
      <th><a href="{{ result.testCaseUrl }}">{{ result.testCaseName }}</a></th>
      {%- for procedureResult in result.procedureResults %}
      {%- assign outcome = procedureResult.outcomes | uniq | join: ", " %}
      <td class="
        {%- if outcome contains 'cantTell' -%}
        act-cannot-tell
        {%- elsif outcome contains 'untested' -%}
        act-untested
        {%- elsif result.expected != 'failed' or outcome contains 'failed' -%}
        {%- else %}
          act-false-negative
        {%- endif -%}
      ">{{ outcome | replace: "cantTell", "cannot tell" }}</td>
      {%- endfor %}
    </tr>
    {%- endfor %}
  </tbody>
</table>